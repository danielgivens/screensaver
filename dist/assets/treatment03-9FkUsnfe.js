import{s as T,g as _}from"./images-BCR6PCiy.js";/* empty css              */import{A as k,a as w,S as I}from"./pixi-CgPZX0WP.js";import{g as n}from"./gsap-C8pce-KX.js";const N=.5,S=.13,R=15,L=3,M=()=>Math.min(window.innerWidth,window.innerHeight);(async()=>{const t=new k;await t.init({resizeTo:window,background:"#000000",antialias:!1}),t.canvas.style.position="fixed",t.canvas.style.top="0",t.canvas.style.left="0",document.body.appendChild(t.canvas);const h=_(),u=50;await w.load(h.slice(0,u));let o=[...h.slice(0,u),...T(h.slice(u))],l=0;const v=20,f=[];function C(){for(l>=o.length&&(l=0,o=T(h));f.includes(o[l])&&l<o.length;)l++;l>=o.length&&(l=0,o=T(h));const e=o[l++];return f.push(e),f.length>v&&f.shift(),e}const p=[];function A(){for(;p.length<L;){const e=C();p.push(e),w.load(e)}}const d=new Map;function U(e){d.set(e,(d.get(e)??0)+1)}function x(e){const r=(d.get(e)??1)-1;r<=0?(d.delete(e),w.unload(e)):d.set(e,r)}const a=[];A();async function E(){A();const e=p.shift(),r=await w.load(e);U(e);const s=new I(r);s._srcUrl=e;const g=M(),y=r.width/r.height;y>=1?(s.width=g,s.height=g/y):(s.width=g*y,s.height=g),s.anchor.set(.5),s.x=t.screen.width/2,s.y=t.screen.height/2,s.rotation=0,s.alpha=1;const O=s.scale.x;s.scale.set(0);for(let i=a.length-1;i>=0;i--){const c=a[i],m=c.scale.x*.96;m<.33?(n.killTweensOf(c.scale),n.killTweensOf(c),t.stage.removeChild(c),x(c._srcUrl),c.destroy({texture:!1}),a.splice(i,1)):n.to(c.scale,{x:m,y:m,duration:S,ease:"sine.inOut",overwrite:!0})}for(t.stage.addChild(s),a.push(s);a.length>R;){const i=a.shift();n.killTweensOf(i.scale),n.killTweensOf(i),t.stage.removeChild(i),x(i._srcUrl),i.destroy({texture:!1})}n.to(s.scale,{x:O,y:O,duration:N,ease:"expo.out"}),n.delayedCall(S,E)}t.stage.pivot.set(t.screen.width/2,t.screen.height/2),t.stage.position.set(t.screen.width/2,t.screen.height/2),n.to(t.stage.scale,{x:.6,y:.6,duration:120,ease:"none"}),E(),window.addEventListener("click",()=>{a.forEach(e=>{n.killTweensOf(e.scale),n.killTweensOf(e),t.stage.removeChild(e),x(e._srcUrl),e.destroy({texture:!1})}),a.length=0,n.killTweensOf(t.stage.scale),t.stage.scale.set(1),n.to(t.stage.scale,{x:.6,y:.6,duration:120,ease:"none"})})})();
