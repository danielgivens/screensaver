import{s as X,g as k}from"./images-BSjhoqbM.js";/* empty css              */import{W as G,S as U,f as q,T as F,P as V,d as N,F as j,M as J,V as O,e as K}from"./three-55PzLCib.js";const Q=10,M=3.2,y=.004,I=.9,$=8e-4,tt=.01,S=.5,L=9.5,et=document.getElementById("canvas"),m=new G({canvas:et,antialias:!0,alpha:!1});m.setPixelRatio(Math.min(window.devicePixelRatio,1.5));m.setSize(window.innerWidth,window.innerHeight);m.setClearColor(0);const _=new U,a=new q(75,window.innerWidth/window.innerHeight,.1,100);a.position.set(0,0,0);window.addEventListener("resize",()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)});const T=X(k()),nt=new F;function ot(t){return new Promise(o=>{nt.load(t,e=>{e.colorSpace=K,o(e)})})}function it(t,o){const e=[],c=Math.PI*(3-Math.sqrt(5));for(let n=0;n<t;n++){const r=1-n/(t-1)*2,w=Math.sqrt(1-r*r),p=c*n;e.push(new O(Math.cos(p)*w*o,r*o,Math.sin(p)*w*o))}return e}const D=[];async function st(){const t=it(T.length,Q);(await Promise.all(T.map(ot))).forEach((e,c)=>{const n=e.image.width/e.image.height,r=n>=1?M:M*n,w=n>=1?M/n:M,p=new V(r,w),W=new N({map:e,side:j,transparent:!0,alphaTest:.1}),f=new J(p,W);f.position.copy(t[c]),_.add(f),D.push(f)})}let h=0,s=Math.PI/2,d=0,l=0,i=0;function z(){s=Math.max(.1,Math.min(Math.PI-.1,s));const t=new O(Math.sin(s)*Math.cos(h),Math.cos(s),Math.sin(s)*Math.sin(h));a.position.copy(t.clone().multiplyScalar(i)),a.lookAt(t.clone().multiplyScalar(i+1))}let u=!1,g=0,v=0;function B(t){u=!0,g=t.clientX??t.touches[0].clientX,v=t.clientY??t.touches[0].clientY,document.body.classList.add("dragging")}function Y(t){if(!u)return;P(!1);const o=t.clientX??t.touches[0].clientX,e=t.clientY??t.touches[0].clientY,c=o-g,n=e-v;d=-c*y,l=-n*y,h+=d,s+=l,g=o,v=e}function Z(){u=!1,document.body.classList.remove("dragging"),E()}window.addEventListener("mousedown",B);window.addEventListener("mousemove",Y);window.addEventListener("mouseup",Z);window.addEventListener("touchstart",t=>B((t.touches[0],t)),{passive:!0});window.addEventListener("touchmove",t=>Y((t.touches[0],t)),{passive:!0});window.addEventListener("touchend",Z);window.addEventListener("wheel",t=>{i=Math.max(S,Math.min(L,i+t.deltaY*tt))},{passive:!0});const x=document.getElementById("zoom-controls"),C=1.5,at=2e3;let A=null;function P(t){x&&x.classList.toggle("hidden",!t)}function E(){P(!0),clearTimeout(A),A=setTimeout(()=>P(!1),at)}var b;(b=document.getElementById("btn-zoom-in"))==null||b.addEventListener("click",()=>{i=Math.max(S,Math.min(L,i+C)),E()});var R;(R=document.getElementById("btn-zoom-out"))==null||R.addEventListener("click",()=>{i=Math.max(S,Math.min(L,i-C)),E()});window.addEventListener("touchend",()=>{u||E()},{passive:!0});function H(){requestAnimationFrame(H),u||(h+=d,s+=l,d*=I,l*=I,Math.abs(d)<1e-4&&Math.abs(l)<1e-4&&(h+=$)),z(),D.forEach(t=>t.lookAt(a.position)),m.render(_,a)}st().then(()=>{z(),H(),document.getElementById("loader").remove()});
